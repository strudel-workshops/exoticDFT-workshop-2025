import{d as v,a as pe,g as me,e as ge,_ as V,b as O,j as h,s as q,h as re,i as N,k as he,m as X,F as Je,l as Ze,G as Ve,H as et,J as we,K as $e,M as Te,B as Se,P as tt}from"./index-KauD271y.js";import{P as rt}from"./PageHeader-CwuE-SP_.js";import{u as ot}from"./useQuery-BfteOBog.js";import{P as nt}from"./react-plotly-CXfVNgnk.js";import{S as st}from"./SciDataGrid-CcjIv-XD.js";import{a as J}from"./colorManipulator-CNGK-66F.js";import{a as it,b as Be}from"./DataGrid-Di_1pUMJ.js";import{M as K}from"./MenuItem-DRzEE5Qo.js";import"./Grid-CYfPzYpG.js";import"./FilterField-BPoOMSwz.js";import"./DatePicker-DiH36KDK.js";import"./DateCalendar-B33JhY3l.js";import"./useGridRootProps-CMNGdaIC.js";import"./Divider-ChV-Afg5.js";import"./dividerClasses-BqeJ-sXW.js";function at(e){return v.Children.toArray(e).filter(t=>v.isValidElement(t))}function lt(e){return me("MuiSwitch",e)}const P=pe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ut=["className","color","edge","size","sx"],ct=e=>{const{classes:t,edge:r,size:o,color:n,checked:s,disabled:i}=e,a={root:["root",r&&`edge${N(r)}`,`size${N(o)}`],switchBase:["switchBase",`color${N(n)}`,s&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=he(a,lt,t);return O({},t,l)},dt=q("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${N(r.edge)}`],t[`size${N(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${P.thumb}`]:{width:16,height:16},[`& .${P.switchBase}`]:{padding:4,[`&.${P.checked}`]:{transform:"translateX(16px)"}}}}]}),ft=q(it,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${P.input}`]:t.input},r.color!=="default"&&t[`color${N(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${P.checked}`]:{transform:"translateX(20px)"},[`&.${P.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${P.checked} + .${P.track}`]:{opacity:.5},[`&.${P.disabled} + .${P.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${P.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:X.alpha(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${P.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:X.alpha(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${P.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?X.lighten(e.palette[t].main,.62):X.darken(e.palette[t].main,.55)}`}},[`&.${P.checked} + .${P.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),pt=q("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),mt=q("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Re=v.forwardRef(function(t,r){const o=ge({props:t,name:"MuiSwitch"}),{className:n,color:s="primary",edge:i=!1,size:a="medium",sx:l}=o,d=V(o,ut),p=O({},o,{color:s,edge:i,size:a}),m=ct(p),c=h.jsx(mt,{className:m.thumb,ownerState:p});return h.jsxs(dt,{className:re(m.root,n),sx:l,ownerState:p,children:[h.jsx(ft,O({type:"checkbox",icon:c,checkedIcon:c,ref:r,ownerState:p},d,{classes:O({},m,{root:m.switchBase})})),h.jsx(pt,{className:m.track,ownerState:p})]})});function gt(e){return me("MuiToggleButton",e)}const G=pe("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Ie=v.createContext({}),Ke=v.createContext(void 0);function ht(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}const yt=["value"],bt=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],xt=e=>{const{classes:t,fullWidth:r,selected:o,disabled:n,size:s,color:i}=e,a={root:["root",o&&"selected",n&&"disabled",r&&"fullWidth",`size${N(s)}`,i]};return he(a,gt,t)},vt=q(Ze,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${N(r.size)}`]]}})(({theme:e,ownerState:t})=>{let r=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,o;return e.vars&&(r=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,o=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),O({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${G.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:J(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${G.selected}`]:{color:r,backgroundColor:e.vars?`rgba(${o} / ${e.vars.palette.action.selectedOpacity})`:J(r,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${o} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:J(r,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${o} / ${e.vars.palette.action.selectedOpacity})`:J(r,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),Pe=v.forwardRef(function(t,r){const o=v.useContext(Ie),{value:n}=o,s=V(o,yt),i=v.useContext(Ke),a=Je(O({},s,{selected:ht(t.value,n)}),t),l=ge({props:a,name:"MuiToggleButton"}),{children:d,className:p,color:m="standard",disabled:c=!1,disableFocusRipple:f=!1,fullWidth:g=!1,onChange:u,onClick:R,selected:E,size:I="medium",value:k}=l,b=V(l,bt),_=O({},l,{color:m,disabled:c,disableFocusRipple:f,fullWidth:g,size:I}),B=xt(_),y=z=>{R&&(R(z,k),z.defaultPrevented)||u&&u(z,k)},w=i||"";return h.jsx(vt,O({className:re(s.className,B.root,p,w),disabled:c,focusRipple:!f,ref:r,onClick:y,onChange:u,value:k,ownerState:_,"aria-pressed":E},b,{children:d}))});function Ct(e){return me("MuiToggleButtonGroup",e)}const C=pe("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),wt=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],$t=e=>{const{classes:t,orientation:r,fullWidth:o,disabled:n}=e,s={root:["root",r==="vertical"&&"vertical",o&&"fullWidth"],grouped:["grouped",`grouped${N(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return he(s,Ct,t)},Tt=q("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${C.grouped}`]:t.grouped},{[`& .${C.grouped}`]:t[`grouped${N(r.orientation)}`]},{[`& .${C.firstButton}`]:t.firstButton},{[`& .${C.lastButton}`]:t.lastButton},{[`& .${C.middleButton}`]:t.middleButton},t.root,r.orientation==="vertical"&&t.vertical,r.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>O({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${C.grouped}`]:O({},e.orientation==="horizontal"?{[`&.${C.selected} + .${C.grouped}.${C.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${C.selected} + .${C.grouped}.${C.selected}`]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{[`& .${C.firstButton},& .${C.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${C.lastButton},& .${C.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${C.firstButton},& .${C.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${C.lastButton},& .${C.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{[`& .${C.lastButton}.${G.disabled},& .${C.middleButton}.${G.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${C.lastButton}.${G.disabled},& .${C.middleButton}.${G.disabled}`]:{borderTop:"1px solid transparent"}})),St=v.forwardRef(function(t,r){const o=ge({props:t,name:"MuiToggleButtonGroup"}),{children:n,className:s,color:i="standard",disabled:a=!1,exclusive:l=!1,fullWidth:d=!1,onChange:p,orientation:m="horizontal",size:c="medium",value:f}=o,g=V(o,wt),u=O({},o,{disabled:a,fullWidth:d,orientation:m,size:c}),R=$t(u),E=v.useCallback((y,w)=>{if(!p)return;const z=f&&f.indexOf(w);let L;f&&z>=0?(L=f.slice(),L.splice(z,1)):L=f?f.concat(w):[w],p(y,L)},[p,f]),I=v.useCallback((y,w)=>{p&&p(y,f===w?null:w)},[p,f]),k=v.useMemo(()=>({className:R.grouped,onChange:l?I:E,value:f,size:c,fullWidth:d,color:i,disabled:a}),[R.grouped,l,I,E,f,c,d,i,a]),b=at(n),_=b.length,B=y=>{const w=y===0,z=y===_-1;return w&&z?"":w?R.firstButton:z?R.lastButton:R.middleButton};return h.jsx(Tt,O({role:"group",className:re(R.root,s),ref:r,ownerState:u},g,{children:h.jsx(Ie.Provider,{value:k,children:b.map((y,w)=>h.jsx(Ke.Provider,{value:B(w),children:y},w))})}))});function Bt(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(o=>r.searchParams.append("args[]",o)),`Minified MUI error #${e}; visit ${r} for the full message.`}function Rt(e,t){return Ve(e,t)}var ce={exports:{}},x={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ee;function Pt(){if(Ee)return x;Ee=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),c=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function g(u){if(typeof u=="object"&&u!==null){var R=u.$$typeof;switch(R){case e:switch(u=u.type,u){case r:case n:case o:case l:case d:case c:return u;default:switch(u=u&&u.$$typeof,u){case i:case a:case m:case p:return u;case s:return u;default:return R}}case t:return R}}}return x.ContextConsumer=s,x.ContextProvider=i,x.Element=e,x.ForwardRef=a,x.Fragment=r,x.Lazy=m,x.Memo=p,x.Portal=t,x.Profiler=n,x.StrictMode=o,x.Suspense=l,x.SuspenseList=d,x.isContextConsumer=function(u){return g(u)===s},x.isContextProvider=function(u){return g(u)===i},x.isElement=function(u){return typeof u=="object"&&u!==null&&u.$$typeof===e},x.isForwardRef=function(u){return g(u)===a},x.isFragment=function(u){return g(u)===r},x.isLazy=function(u){return g(u)===m},x.isMemo=function(u){return g(u)===p},x.isPortal=function(u){return g(u)===t},x.isProfiler=function(u){return g(u)===n},x.isStrictMode=function(u){return g(u)===o},x.isSuspense=function(u){return g(u)===l},x.isSuspenseList=function(u){return g(u)===d},x.isValidElementType=function(u){return typeof u=="string"||typeof u=="function"||u===r||u===n||u===o||u===l||u===d||typeof u=="object"&&u!==null&&(u.$$typeof===m||u.$$typeof===p||u.$$typeof===i||u.$$typeof===s||u.$$typeof===a||u.$$typeof===f||u.getModuleId!==void 0)},x.typeOf=g,x}var Ae;function Et(){return Ae||(Ae=1,ce.exports=Pt()),ce.exports}var Ge=Et();function W(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function De(e){if(v.isValidElement(e)||Ge.isValidElementType(e)||!W(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=De(e[r])}),t}function ee(e,t,r={clone:!0}){const o=r.clone?{...e}:e;return W(e)&&W(t)&&Object.keys(t).forEach(n=>{v.isValidElement(t[n])||Ge.isValidElementType(t[n])?o[n]=t[n]:W(t[n])&&Object.prototype.hasOwnProperty.call(e,n)&&W(e[n])?o[n]=ee(e[n],t[n],r):r.clone?o[n]=W(t[n])?De(t[n]):t[n]:o[n]=t[n]}),o}const At=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,o)=>r.val-o.val),t.reduce((r,o)=>({...r,[o.key]:o.val}),{})};function jt(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:o=5,...n}=e,s=At(t),i=Object.keys(s);function a(c){return`@media (min-width:${typeof t[c]=="number"?t[c]:c}${r})`}function l(c){return`@media (max-width:${(typeof t[c]=="number"?t[c]:c)-o/100}${r})`}function d(c,f){const g=i.indexOf(f);return`@media (min-width:${typeof t[c]=="number"?t[c]:c}${r}) and (max-width:${(g!==-1&&typeof t[i[g]]=="number"?t[i[g]]:f)-o/100}${r})`}function p(c){return i.indexOf(c)+1<i.length?d(c,i[i.indexOf(c)+1]):a(c)}function m(c){const f=i.indexOf(c);return f===0?a(i[1]):f===i.length-1?l(i[f]):d(c,i[i.indexOf(c)+1]).replace("@media","@media not all and")}return{keys:i,values:s,up:a,down:l,between:d,only:p,not:m,unit:r,...n}}function je(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(o=>o.startsWith("@container")).sort((o,n)=>{var i,a;const s=/min-width:\s*([0-9.]+)/;return+(((i=o.match(s))==null?void 0:i[1])||0)-+(((a=n.match(s))==null?void 0:a[1])||0)});return r.length?r.reduce((o,n)=>{const s=t[n];return delete o[n],o[n]=s,o},{...t}):t}function Ot(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function Mt(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,o,n]=r,s=Number.isNaN(+o)?o||0:+o;return e.containerQueries(n).up(s)}function kt(e){const t=(s,i)=>s.replace("@media",i?`@container ${i}`:"@container");function r(s,i){s.up=(...a)=>t(e.breakpoints.up(...a),i),s.down=(...a)=>t(e.breakpoints.down(...a),i),s.between=(...a)=>t(e.breakpoints.between(...a),i),s.only=(...a)=>t(e.breakpoints.only(...a),i),s.not=(...a)=>{const l=t(e.breakpoints.not(...a),i);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const o={},n=s=>(r(o,s),o);return r(n),{...e,containerQueries:n}}const _t={borderRadius:4};function Y(e,t){return t?ee(e,t,{clone:!1}):e}const oe={xs:0,sm:600,md:900,lg:1200,xl:1536},Oe={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${oe[e]}px)`},zt={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:oe[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function F(e,t,r){const o=e.theme||{};if(Array.isArray(t)){const s=o.breakpoints||Oe;return t.reduce((i,a,l)=>(i[s.up(s.keys[l])]=r(t[l]),i),{})}if(typeof t=="object"){const s=o.breakpoints||Oe;return Object.keys(t).reduce((i,a)=>{if(Ot(s.keys,a)){const l=Mt(o.containerQueries?o:zt,a);l&&(i[l]=r(t[a],a))}else if(Object.keys(s.values||oe).includes(a)){const l=s.up(a);i[l]=r(t[a],a)}else{const l=a;i[l]=t[l]}return i},{})}return r(t)}function Nt(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((o,n)=>{const s=e.up(n);return o[s]={},o},{}))||{}}function Me(e,t){return e.reduce((r,o)=>{const n=r[o];return(!n||Object.keys(n).length===0)&&delete r[o],r},t)}function qe(e){if(typeof e!="string")throw new Error(Bt(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ne(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const o=`vars.${t}`.split(".").reduce((n,s)=>n&&n[s]?n[s]:null,e);if(o!=null)return o}return t.split(".").reduce((o,n)=>o&&o[n]!=null?o[n]:null,e)}function te(e,t,r,o=r){let n;return typeof e=="function"?n=e(r):Array.isArray(e)?n=e[r]||o:n=ne(e,r)||o,t&&(n=t(n,o,e)),n}function S(e){const{prop:t,cssProperty:r=e.prop,themeKey:o,transform:n}=e,s=i=>{if(i[t]==null)return null;const a=i[t],l=i.theme,d=ne(l,o)||{};return F(i,a,m=>{let c=te(d,n,m);return m===c&&typeof m=="string"&&(c=te(d,n,`${t}${m==="default"?"":qe(m)}`,m)),r===!1?c:{[r]:c}})};return s.propTypes={},s.filterProps=[t],s}function Ft(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const Lt={m:"margin",p:"padding"},Wt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ke={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},It=Ft(e=>{if(e.length>2)if(ke[e])e=ke[e];else return[e];const[t,r]=e.split(""),o=Lt[t],n=Wt[r]||"";return Array.isArray(n)?n.map(s=>o+s):[o+n]}),ye=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],be=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ye,...be];function Q(e,t,r,o){const n=ne(e,t,!0)??r;return typeof n=="number"||typeof n=="string"?s=>typeof s=="string"?s:typeof n=="string"?n.startsWith("var(")&&s===0?0:n.startsWith("var(")&&s===1?n:`calc(${s} * ${n})`:n*s:Array.isArray(n)?s=>{if(typeof s=="string")return s;const i=Math.abs(s),a=n[i];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof n=="function"?n:()=>{}}function Ue(e){return Q(e,"spacing",8)}function H(e,t){return typeof t=="string"||t==null?t:e(t)}function Kt(e,t){return r=>e.reduce((o,n)=>(o[n]=H(t,r),o),{})}function Gt(e,t,r,o){if(!t.includes(r))return null;const n=It(r),s=Kt(n,o),i=e[r];return F(e,i,s)}function Ye(e,t){const r=Ue(e.theme);return Object.keys(e).map(o=>Gt(e,t,o,r)).reduce(Y,{})}function $(e){return Ye(e,ye)}$.propTypes={};$.filterProps=ye;function T(e){return Ye(e,be)}T.propTypes={};T.filterProps=be;function Dt(e=8,t=Ue({spacing:e})){if(e.mui)return e;const r=(...o)=>(o.length===0?[1]:o).map(s=>{const i=t(s);return typeof i=="number"?`${i}px`:i}).join(" ");return r.mui=!0,r}function se(...e){const t=e.reduce((o,n)=>(n.filterProps.forEach(s=>{o[s]=n}),o),{}),r=o=>Object.keys(o).reduce((n,s)=>t[s]?Y(n,t[s](o)):n,{});return r.propTypes={},r.filterProps=e.reduce((o,n)=>o.concat(n.filterProps),[]),r}function j(e){return typeof e!="number"?e:`${e}px solid`}function M(e,t){return S({prop:e,themeKey:"borders",transform:t})}const qt=M("border",j),Ut=M("borderTop",j),Yt=M("borderRight",j),Qt=M("borderBottom",j),Ht=M("borderLeft",j),Xt=M("borderColor"),Jt=M("borderTopColor"),Zt=M("borderRightColor"),Vt=M("borderBottomColor"),er=M("borderLeftColor"),tr=M("outline",j),rr=M("outlineColor"),ie=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Q(e.theme,"shape.borderRadius",4),r=o=>({borderRadius:H(t,o)});return F(e,e.borderRadius,r)}return null};ie.propTypes={};ie.filterProps=["borderRadius"];se(qt,Ut,Yt,Qt,Ht,Xt,Jt,Zt,Vt,er,ie,tr,rr);const ae=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Q(e.theme,"spacing",8),r=o=>({gap:H(t,o)});return F(e,e.gap,r)}return null};ae.propTypes={};ae.filterProps=["gap"];const le=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Q(e.theme,"spacing",8),r=o=>({columnGap:H(t,o)});return F(e,e.columnGap,r)}return null};le.propTypes={};le.filterProps=["columnGap"];const ue=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Q(e.theme,"spacing",8),r=o=>({rowGap:H(t,o)});return F(e,e.rowGap,r)}return null};ue.propTypes={};ue.filterProps=["rowGap"];const or=S({prop:"gridColumn"}),nr=S({prop:"gridRow"}),sr=S({prop:"gridAutoFlow"}),ir=S({prop:"gridAutoColumns"}),ar=S({prop:"gridAutoRows"}),lr=S({prop:"gridTemplateColumns"}),ur=S({prop:"gridTemplateRows"}),cr=S({prop:"gridTemplateAreas"}),dr=S({prop:"gridArea"});se(ae,le,ue,or,nr,sr,ir,ar,lr,ur,cr,dr);function D(e,t){return t==="grey"?t:e}const fr=S({prop:"color",themeKey:"palette",transform:D}),pr=S({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:D}),mr=S({prop:"backgroundColor",themeKey:"palette",transform:D});se(fr,pr,mr);function A(e){return e<=1&&e!==0?`${e*100}%`:e}const gr=S({prop:"width",transform:A}),xe=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,s,i,a,l;const o=((i=(s=(n=e.theme)==null?void 0:n.breakpoints)==null?void 0:s.values)==null?void 0:i[r])||oe[r];return o?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:A(r)}};return F(e,e.maxWidth,t)}return null};xe.filterProps=["maxWidth"];const hr=S({prop:"minWidth",transform:A}),yr=S({prop:"height",transform:A}),br=S({prop:"maxHeight",transform:A}),xr=S({prop:"minHeight",transform:A});S({prop:"size",cssProperty:"width",transform:A});S({prop:"size",cssProperty:"height",transform:A});const vr=S({prop:"boxSizing"});se(gr,xe,hr,yr,br,xr,vr);const ve={border:{themeKey:"borders",transform:j},borderTop:{themeKey:"borders",transform:j},borderRight:{themeKey:"borders",transform:j},borderBottom:{themeKey:"borders",transform:j},borderLeft:{themeKey:"borders",transform:j},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:j},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ie},color:{themeKey:"palette",transform:D},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:D},backgroundColor:{themeKey:"palette",transform:D},p:{style:T},pt:{style:T},pr:{style:T},pb:{style:T},pl:{style:T},px:{style:T},py:{style:T},padding:{style:T},paddingTop:{style:T},paddingRight:{style:T},paddingBottom:{style:T},paddingLeft:{style:T},paddingX:{style:T},paddingY:{style:T},paddingInline:{style:T},paddingInlineStart:{style:T},paddingInlineEnd:{style:T},paddingBlock:{style:T},paddingBlockStart:{style:T},paddingBlockEnd:{style:T},m:{style:$},mt:{style:$},mr:{style:$},mb:{style:$},ml:{style:$},mx:{style:$},my:{style:$},margin:{style:$},marginTop:{style:$},marginRight:{style:$},marginBottom:{style:$},marginLeft:{style:$},marginX:{style:$},marginY:{style:$},marginInline:{style:$},marginInlineStart:{style:$},marginInlineEnd:{style:$},marginBlock:{style:$},marginBlockStart:{style:$},marginBlockEnd:{style:$},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ae},rowGap:{style:ue},columnGap:{style:le},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:A},maxWidth:{style:xe},minWidth:{transform:A},height:{transform:A},maxHeight:{transform:A},minHeight:{transform:A},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Cr(...e){const t=e.reduce((o,n)=>o.concat(Object.keys(n)),[]),r=new Set(t);return e.every(o=>r.size===Object.keys(o).length)}function wr(e,t){return typeof e=="function"?e(t):e}function $r(){function e(r,o,n,s){const i={[r]:o,theme:n},a=s[r];if(!a)return{[r]:o};const{cssProperty:l=r,themeKey:d,transform:p,style:m}=a;if(o==null)return null;if(d==="typography"&&o==="inherit")return{[r]:o};const c=ne(n,d)||{};return m?m(i):F(i,o,g=>{let u=te(c,p,g);return g===u&&typeof g=="string"&&(u=te(c,p,`${r}${g==="default"?"":qe(g)}`,g)),l===!1?u:{[l]:u}})}function t(r){const{sx:o,theme:n={},nested:s}=r||{};if(!o)return null;const i=n.unstable_sxConfig??ve;function a(l){let d=l;if(typeof l=="function")d=l(n);else if(typeof l!="object")return l;if(!d)return null;const p=Nt(n.breakpoints),m=Object.keys(p);let c=p;return Object.keys(d).forEach(f=>{const g=wr(d[f],n);if(g!=null)if(typeof g=="object")if(i[f])c=Y(c,e(f,g,n,i));else{const u=F({theme:n},g,R=>({[f]:R}));Cr(u,g)?c[f]=t({sx:g,theme:n,nested:!0}):c=Y(c,u)}else c=Y(c,e(f,g,n,i))}),!s&&n.modularCssLayers?{"@layer sx":je(n,Me(m,c))}:je(n,Me(m,c))}return Array.isArray(o)?o.map(a):a(o)}return t}const Ce=$r();Ce.filterProps=["sx"];function Tr(e,t){var o;const r=this;if(r.vars){if(!((o=r.colorSchemes)!=null&&o[e])||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(e);return n==="&"?t:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:t})}return r.palette.mode===e?t:{}}function Sr(e={},...t){const{breakpoints:r={},palette:o={},spacing:n,shape:s={},...i}=e,a=jt(r),l=Dt(n);let d=ee({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...o},spacing:l,shape:{..._t,...s}},i);return d=kt(d),d.applyStyles=Tr,d=t.reduce((p,m)=>ee(p,m),d),d.unstable_sxConfig={...ve,...i==null?void 0:i.unstable_sxConfig},d.unstable_sx=function(m){return Ce({sx:m,theme:this})},d}function Br(e){return Object.keys(e).length===0}function Rr(e=null){const t=v.useContext(et);return!t||Br(t)?e:t}const Pr=Sr();function Er(e=Pr){return Rr(e)}const Ar=e=>{var o;const t={systemProps:{},otherProps:{}},r=((o=e==null?void 0:e.theme)==null?void 0:o.unstable_sxConfig)??ve;return Object.keys(e).forEach(n=>{r[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]}),t};function jr(e){const{sx:t,...r}=e,{systemProps:o,otherProps:n}=Ar(r);let s;return Array.isArray(t)?s=[o,...t]:typeof t=="function"?s=(...i)=>{const a=t(...i);return W(a)?{...o,...a}:o}:s={...o,...t},{...n,sx:s}}const _e=e=>e,Or=()=>{let e=_e;return{configure(t){e=t},generate(t){return e(t)},reset(){e=_e}}},Qe=Or();function Mr(e={}){const{themeId:t,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:n}=e,s=Rt("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Ce);return v.forwardRef(function(l,d){const p=Er(r),{className:m,component:c="div",...f}=jr(l);return h.jsx(s,{as:c,ref:d,className:re(m,n?n(o):o),theme:t&&p[t]||p,...f})})}const kr={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function _r(e,t,r="Mui"){const o=kr[t];return o?`${r}-${o}`:`${Qe.generate(e)}-${t}`}function zr(e,t,r="Mui"){const o={};return t.forEach(n=>{o[n]=_r(e,n,r)}),o}const Nr=zr("MuiBox",["root"]),de=Mr({defaultClassName:Nr.root,generateClassName:Qe.generate});function fe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function*Fr(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}function Lr(e,t){let r=0,o,n=0,s=0;for(let i of e)i!=null&&(i=+i)>=i&&(o=i-n,n+=o/++r,s+=o*(i-n));if(r>1)return s/(r-1)}function Wr(e,t){const r=Lr(e);return r&&Math.sqrt(r)}function Ir(e=fe){if(e===fe)return He;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const o=e(t,r);return o||o===0?o:(e(r,r)===0)-(e(t,t)===0)}}function He(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function ze(e,t){let r;for(const o of e)o!=null&&(r<o||r===void 0&&o>=o)&&(r=o);return r}function Ne(e,t){let r;for(const o of e)o!=null&&(r>o||r===void 0&&o>=o)&&(r=o);return r}function Xe(e,t,r=0,o=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),o=Math.floor(Math.min(e.length-1,o)),!(r<=t&&t<=o))return e;for(n=n===void 0?He:Ir(n);o>r;){if(o-r>600){const l=o-r+1,d=t-r+1,p=Math.log(l),m=.5*Math.exp(2*p/3),c=.5*Math.sqrt(p*m*(l-m)/l)*(d-l/2<0?-1:1),f=Math.max(r,Math.floor(t-d*m/l+c)),g=Math.min(o,Math.floor(t+(l-d)*m/l+c));Xe(e,t,f,g,n)}const s=e[t];let i=r,a=o;for(U(e,r,t),n(e[o],s)>0&&U(e,r,o);i<a;){for(U(e,i,a),++i,--a;n(e[i],s)<0;)++i;for(;n(e[a],s)>0;)--a}n(e[r],s)===0?U(e,r,a):(++a,U(e,a,o)),a<=t&&(r=a+1),t<=a&&(o=a-1)}return e}function U(e,t,r){const o=e[t];e[t]=e[r],e[r]=o}function Fe(e,t,r){if(e=Float64Array.from(Fr(e)),!(!(o=e.length)||isNaN(t=+t))){if(t<=0||o<2)return Ne(e);if(t>=1)return ze(e);var o,n=(o-1)*t,s=Math.floor(n),i=ze(Xe(e,s).subarray(0,s+1)),a=Ne(e.subarray(s+1));return i+(a-i)*(n-s)}}function Kr(e,t){let r=0,o=0;for(let n of e)n!=null&&(n=+n)>=n&&(++r,o+=n);if(r)return o/r}const Le=(e,t)=>{if(!e||e.length===0)return[];const r=e.map(l=>l[t]).filter(l=>typeof l=="number");r.sort(fe);const o=Fe(r,.25),n=Fe(r,.75);if(o===void 0||n===void 0)return e;const s=n-o,i=o-1.5*s,a=n+1.5*s;return e.filter(l=>{const d=l[t];return typeof d!="number"?!0:d>=i&&d<=a})},We=(e,t,r=10,o=2)=>{if(!e||e.length===0)return[];const n=[],s=[];for(let i=0;i<e.length;i++){const a=e.slice(Math.max(0,i-r+1),i+1).map(l=>l[t]).filter(l=>typeof l=="number");n.push(Kr(a)),s.push(Wr(a))}return e.filter((i,a)=>{const l=i[t],d=n[a],p=s[a];return typeof l!="number"||d===void 0||p===void 0||p===0?!0:Math.abs(l-d)<=o*p})};function Z(e,t,r){return r<1?[]:e.map((n,s,i)=>s<r-1?null:i.slice(s-r+1,s+1).reduce((d,p)=>d+p[t],0)/r)}async function Gr(){return await(await fetch("https://lasp.colorado.edu/space-weather-portal/latis/dap/penticton_radio_flux.jsond")).json()}function Dr(){const[e,t]=v.useState("plot"),[r,o]=v.useState(!0),[n,s]=v.useState("iqr"),[i,a]=v.useState(!1),[l,d]=v.useState(5),{isPending:p,isError:m,isSuccess:c,data:f,error:g}=ot({queryKey:["laspData"],queryFn:Gr}),[u,R]=v.useState([]),[E,I]=v.useState([]);if(v.useEffect(()=>{if(f){const k=f.penticton_radio_flux.data.map(y=>y[0]),b=f.penticton_radio_flux.data.map(y=>y[1]),_=f.penticton_radio_flux.data.map(y=>y[2]);let B=k.map((y,w)=>({id:y,time:new Date(y).toLocaleString(),observedFlux:b[w],adjustedFlux:_[w]}));r||(n==="iqr"?B=Le(B,"observedFlux"):B=We(B,"observedFlux")),I(B.map(y=>({...y,time:new Date(y.time)})))}},[f,r,n]),v.useEffect(()=>{if(f){const k=f.penticton_radio_flux.data.map(y=>y[0]),b=f.penticton_radio_flux.data.map(y=>y[1]),_=f.penticton_radio_flux.data.map(y=>y[2]);let B=k.map((y,w)=>({id:y,time:new Date(y).toLocaleString(),observedFlux:b[w],adjustedFlux:_[w]}));if(i){const y=Z(B,"observedFlux",l),w=Z(B,"adjustedFlux",l);B=B.map((z,L)=>({...z,observedMovingAverage:y[L],adjustedMovingAverage:w[L]}))}r||(n==="iqr"?B=Le(B,"observedFlux"):B=We(B,"observedFlux")),R(B)}},[f,r,n,i,l]),p)return h.jsx("div",{children:"Loading..."});if(m)return h.jsxs("div",{children:["Error: ",g.message]});if(c){const k=[{field:"time",headerName:"Time",flex:1},{field:"observedFlux",headerName:"Observed Flux",flex:1,type:"number"},{field:"adjustedFlux",headerName:"Adjusted Flux",flex:1,type:"number"},...i?[{field:"observedMovingAverage",headerName:"Observed Moving Average",flex:1,type:"number"},{field:"adjustedMovingAverage",headerName:"Adjusted Moving Average",flex:1,type:"number"}]:[]];return h.jsxs(de,{sx:{width:"100%",height:"100%"},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(St,{value:e,exclusive:!0,onChange:(b,_)=>{_!==null&&t(_)},"aria-label":"data view",children:[h.jsx(Pe,{value:"plot","aria-label":"plot view",children:"Plot"}),h.jsx(Pe,{value:"table","aria-label":"table view",children:"Table"})]}),h.jsxs(de,{sx:{display:"flex",gap:2,alignItems:"center"},children:[h.jsx(Be,{control:h.jsx(Re,{checked:!r,onChange:b=>o(!b.target.checked)}),label:"Remove Outliers"}),h.jsxs(we,{sx:{m:1,minWidth:120},size:"small",children:[h.jsx($e,{id:"outlier-model-select-label",children:"Model"}),h.jsxs(Te,{labelId:"outlier-model-select-label",id:"outlier-model-select",value:n,label:"Model",onChange:b=>s(b.target.value),disabled:r,children:[h.jsx(K,{value:"iqr",children:"IQR"}),h.jsx(K,{value:"movingAverage",children:"Moving Average"})]})]}),h.jsx(Be,{control:h.jsx(Re,{checked:i,onChange:b=>a(b.target.checked)}),label:"Show Moving Average"}),h.jsxs(we,{sx:{m:1,minWidth:120},size:"small",children:[h.jsx($e,{id:"moving-average-window-label",children:"Window"}),h.jsxs(Te,{labelId:"moving-average-window-label",id:"moving-average-window-select",value:l,label:"Window",onChange:b=>d(b.target.value),disabled:!i,children:[h.jsx(K,{value:5,children:"5"}),h.jsx(K,{value:10,children:"10"}),h.jsx(K,{value:20,children:"20"}),h.jsx(K,{value:50,children:"50"})]})]})]})]}),e==="plot"?h.jsx(nt,{data:[{x:E.map(b=>b.time),y:E.map(b=>b.observedFlux),type:"scatter",mode:"lines",name:"Observed Flux",line:{color:"rgba(26, 118, 255, 1)"}},{x:E.map(b=>b.time),y:E.map(b=>b.adjustedFlux),type:"scatter",mode:"lines",name:"Adjusted Flux",line:{color:"rgba(255, 26, 118, 1)"}},...i?[{x:E.map(b=>b.time),y:Z(E,"observedFlux",l),type:"scatter",mode:"lines",name:`Observed Moving Average (${l})`,line:{color:"rgba(229, 137, 0, 0.5)"}},{x:E.map(b=>b.time),y:Z(E,"adjustedFlux",l),type:"scatter",mode:"lines",name:`Adjusted Moving Average (${l})`,line:{color:"rgba(0, 229, 137, 0.5)"}}]:[]],layout:{title:{text:"Penticton Radio Flux"},xaxis:{title:{text:"Time"}},yaxis:{title:{text:"Flux"}}},style:{width:"100%",height:"calc(100% - 40px)"}}):h.jsx(st,{rows:u,columns:k})]})}}const io=function(){return h.jsxs(Se,{children:[h.jsx(rt,{pageTitle:"Explore Data App",description:"Description of this app",sx:{marginBottom:1,padding:2}}),h.jsx(Se,{children:h.jsx(tt,{elevation:0,sx:{flex:1,minHeight:"600px",minWidth:0},children:h.jsx(Dr,{})})})]})};export{io as component};
