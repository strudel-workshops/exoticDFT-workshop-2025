import{d as $,a as dt,g as ft,e as pt,_ as X,b as E,j as h,s as F,h as V,i as j,k as mt,m as Q,F as Gt,l as Dt,G as Ut,H as qt,J as Yt,K as Qt,M as Ht,B as vt,P as Xt}from"./index-Cbuj_Gw9.js";import{P as Jt}from"./PageHeader-B_pgv10F.js";import{u as Zt}from"./useQuery-CHLfHBR-.js";import{P as Vt}from"./react-plotly-CIzL622B.js";import{S as te}from"./SciDataGrid-KlCOm4Wf.js";import{a as H}from"./colorManipulator-PJpUZJ5J.js";import{a as ee,b as re}from"./DataGrid-DLGIp36T.js";import{M as Ct}from"./MenuItem-Pm5UqKGD.js";import"./Grid-DOPnG4xR.js";import"./FilterField-Dphu1yJW.js";import"./DatePicker-7UclZBZa.js";import"./DateCalendar-DONTE-40.js";import"./useGridRootProps-WobLSEra.js";import"./Divider-DH3ySwQL.js";import"./dividerClasses-BPy7O0cH.js";function oe(t){return $.Children.toArray(t).filter(e=>$.isValidElement(e))}function ne(t){return ft("MuiSwitch",t)}const B=dt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),se=["className","color","edge","size","sx"],ie=t=>{const{classes:e,edge:r,size:o,color:n,checked:s,disabled:i}=t,a={root:["root",r&&`edge${j(r)}`,`size${j(o)}`],switchBase:["switchBase",`color${j(n)}`,s&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=mt(a,ne,e);return E({},e,c)},ae=F("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.edge&&e[`edge${j(r.edge)}`],e[`size${j(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${B.thumb}`]:{width:16,height:16},[`& .${B.switchBase}`]:{padding:4,[`&.${B.checked}`]:{transform:"translateX(16px)"}}}}]}),le=F(ee,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.switchBase,{[`& .${B.input}`]:e.input},r.color!=="default"&&e[`color${j(r.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${B.checked}`]:{transform:"translateX(20px)"},[`&.${B.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${B.checked} + .${B.track}`]:{opacity:.5},[`&.${B.disabled} + .${B.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${B.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Q.alpha(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${B.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Q.alpha(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${B.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?Q.lighten(t.palette[e].main,.62):Q.darken(t.palette[e].main,.55)}`}},[`&.${B.checked} + .${B.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),ce=F("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),ue=F("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),de=$.forwardRef(function(e,r){const o=pt({props:e,name:"MuiSwitch"}),{className:n,color:s="primary",edge:i=!1,size:a="medium",sx:c}=o,d=X(o,se),f=E({},o,{color:s,edge:i,size:a}),p=ie(f),u=h.jsx(ue,{className:p.thumb,ownerState:f});return h.jsxs(ae,{className:V(p.root,n),sx:c,ownerState:f,children:[h.jsx(le,E({type:"checkbox",icon:u,checkedIcon:u,ref:r,ownerState:f},d,{classes:E({},p,{root:p.switchBase})})),h.jsx(ce,{className:p.track,ownerState:f})]})});function fe(t){return ft("MuiToggleButton",t)}const I=dt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),jt=$.createContext({}),_t=$.createContext(void 0);function pe(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.indexOf(t)>=0:t===e}const me=["value"],ge=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],he=t=>{const{classes:e,fullWidth:r,selected:o,disabled:n,size:s,color:i}=t,a={root:["root",o&&"selected",n&&"disabled",r&&"fullWidth",`size${j(s)}`,i]};return mt(a,fe,e)},ye=F(Dt,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`size${j(r.size)}`]]}})(({theme:t,ownerState:e})=>{let r=e.color==="standard"?t.palette.text.primary:t.palette[e.color].main,o;return t.vars&&(r=e.color==="standard"?t.vars.palette.text.primary:t.vars.palette[e.color].main,o=e.color==="standard"?t.vars.palette.text.primaryChannel:t.vars.palette[e.color].mainChannel),E({},t.typography.button,{borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active},e.fullWidth&&{width:"100%"},{[`&.${I.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:H(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${I.selected}`]:{color:r,backgroundColor:t.vars?`rgba(${o} / ${t.vars.palette.action.selectedOpacity})`:H(r,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${o} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:H(r,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${o} / ${t.vars.palette.action.selectedOpacity})`:H(r,t.palette.action.selectedOpacity)}}}},e.size==="small"&&{padding:7,fontSize:t.typography.pxToRem(13)},e.size==="large"&&{padding:15,fontSize:t.typography.pxToRem(15)})}),$t=$.forwardRef(function(e,r){const o=$.useContext(jt),{value:n}=o,s=X(o,me),i=$.useContext(_t),a=Gt(E({},s,{selected:pe(e.value,n)}),e),c=pt({props:a,name:"MuiToggleButton"}),{children:d,className:f,color:p="standard",disabled:u=!1,disableFocusRipple:m=!1,fullWidth:g=!1,onChange:l,onClick:T,selected:L,size:_="medium",value:x}=c,k=X(c,ge),q=E({},c,{color:p,disabled:u,disableFocusRipple:m,fullWidth:g,size:_}),at=he(q),A=M=>{T&&(T(M,x),M.defaultPrevented)||l&&l(M,x)},S=i||"";return h.jsx(ye,E({className:V(s.className,at.root,f,S),disabled:u,focusRipple:!m,ref:r,onClick:A,onChange:l,value:x,ownerState:q,"aria-pressed":L},k,{children:d}))});function be(t){return ft("MuiToggleButtonGroup",t)}const b=dt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),xe=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],ve=t=>{const{classes:e,orientation:r,fullWidth:o,disabled:n}=t,s={root:["root",r==="vertical"&&"vertical",o&&"fullWidth"],grouped:["grouped",`grouped${j(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return mt(s,be,e)},Ce=F("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${b.grouped}`]:e.grouped},{[`& .${b.grouped}`]:e[`grouped${j(r.orientation)}`]},{[`& .${b.firstButton}`]:e.firstButton},{[`& .${b.lastButton}`]:e.lastButton},{[`& .${b.middleButton}`]:e.middleButton},e.root,r.orientation==="vertical"&&e.vertical,r.fullWidth&&e.fullWidth]}})(({ownerState:t,theme:e})=>E({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.orientation==="vertical"&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{[`& .${b.grouped}`]:E({},t.orientation==="horizontal"?{[`&.${b.selected} + .${b.grouped}.${b.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${b.selected} + .${b.grouped}.${b.selected}`]:{borderTop:0,marginTop:0}})},t.orientation==="horizontal"?{[`& .${b.firstButton},& .${b.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${b.lastButton},& .${b.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${b.firstButton},& .${b.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${b.lastButton},& .${b.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},t.orientation==="horizontal"?{[`& .${b.lastButton}.${I.disabled},& .${b.middleButton}.${I.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${b.lastButton}.${I.disabled},& .${b.middleButton}.${I.disabled}`]:{borderTop:"1px solid transparent"}})),$e=$.forwardRef(function(e,r){const o=pt({props:e,name:"MuiToggleButtonGroup"}),{children:n,className:s,color:i="standard",disabled:a=!1,exclusive:c=!1,fullWidth:d=!1,onChange:f,orientation:p="horizontal",size:u="medium",value:m}=o,g=X(o,xe),l=E({},o,{disabled:a,fullWidth:d,orientation:p,size:u}),T=ve(l),L=$.useCallback((A,S)=>{if(!f)return;const M=m&&m.indexOf(S);let Y;m&&M>=0?(Y=m.slice(),Y.splice(M,1)):Y=m?m.concat(S):[S],f(A,Y)},[f,m]),_=$.useCallback((A,S)=>{f&&f(A,m===S?null:S)},[f,m]),x=$.useMemo(()=>({className:T.grouped,onChange:c?_:L,value:m,size:u,fullWidth:d,color:i,disabled:a}),[T.grouped,c,_,L,m,u,d,i,a]),k=oe(n),q=k.length,at=A=>{const S=A===0,M=A===q-1;return S&&M?"":S?T.firstButton:M?T.lastButton:T.middleButton};return h.jsx(Ce,E({role:"group",className:V(T.root,s),ref:r,ownerState:l},g,{children:h.jsx(jt.Provider,{value:x,children:k.map((A,S)=>h.jsx(_t.Provider,{value:at(S),children:A},S))})}))});function we(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(o=>r.searchParams.append("args[]",o)),`Minified MUI error #${t}; visit ${r} for the full message.`}function Te(t,e){return Ut(t,e)}var lt={exports:{}},y={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt;function Be(){if(wt)return y;wt=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),u=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(l){if(typeof l=="object"&&l!==null){var T=l.$$typeof;switch(T){case t:switch(l=l.type,l){case r:case n:case o:case c:case d:case u:return l;default:switch(l=l&&l.$$typeof,l){case i:case a:case p:case f:return l;case s:return l;default:return T}}case e:return T}}}return y.ContextConsumer=s,y.ContextProvider=i,y.Element=t,y.ForwardRef=a,y.Fragment=r,y.Lazy=p,y.Memo=f,y.Portal=e,y.Profiler=n,y.StrictMode=o,y.Suspense=c,y.SuspenseList=d,y.isContextConsumer=function(l){return g(l)===s},y.isContextProvider=function(l){return g(l)===i},y.isElement=function(l){return typeof l=="object"&&l!==null&&l.$$typeof===t},y.isForwardRef=function(l){return g(l)===a},y.isFragment=function(l){return g(l)===r},y.isLazy=function(l){return g(l)===p},y.isMemo=function(l){return g(l)===f},y.isPortal=function(l){return g(l)===e},y.isProfiler=function(l){return g(l)===n},y.isStrictMode=function(l){return g(l)===o},y.isSuspense=function(l){return g(l)===c},y.isSuspenseList=function(l){return g(l)===d},y.isValidElementType=function(l){return typeof l=="string"||typeof l=="function"||l===r||l===n||l===o||l===c||l===d||typeof l=="object"&&l!==null&&(l.$$typeof===p||l.$$typeof===f||l.$$typeof===i||l.$$typeof===s||l.$$typeof===a||l.$$typeof===m||l.getModuleId!==void 0)},y.typeOf=g,y}var Tt;function Se(){return Tt||(Tt=1,lt.exports=Be()),lt.exports}var Mt=Se();function N(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function zt(t){if($.isValidElement(t)||Mt.isValidElementType(t)||!N(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=zt(t[r])}),e}function J(t,e,r={clone:!0}){const o=r.clone?{...t}:t;return N(t)&&N(e)&&Object.keys(e).forEach(n=>{$.isValidElement(e[n])||Mt.isValidElementType(e[n])?o[n]=e[n]:N(e[n])&&Object.prototype.hasOwnProperty.call(t,n)&&N(t[n])?o[n]=J(t[n],e[n],r):r.clone?o[n]=N(e[n])?zt(e[n]):e[n]:o[n]=e[n]}),o}const Re=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,o)=>r.val-o.val),e.reduce((r,o)=>({...r,[o.key]:o.val}),{})};function Pe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:o=5,...n}=t,s=Re(e),i=Object.keys(s);function a(u){return`@media (min-width:${typeof e[u]=="number"?e[u]:u}${r})`}function c(u){return`@media (max-width:${(typeof e[u]=="number"?e[u]:u)-o/100}${r})`}function d(u,m){const g=i.indexOf(m);return`@media (min-width:${typeof e[u]=="number"?e[u]:u}${r}) and (max-width:${(g!==-1&&typeof e[i[g]]=="number"?e[i[g]]:m)-o/100}${r})`}function f(u){return i.indexOf(u)+1<i.length?d(u,i[i.indexOf(u)+1]):a(u)}function p(u){const m=i.indexOf(u);return m===0?a(i[1]):m===i.length-1?c(i[m]):d(u,i[i.indexOf(u)+1]).replace("@media","@media not all and")}return{keys:i,values:s,up:a,down:c,between:d,only:f,not:p,unit:r,...n}}function Bt(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(o=>o.startsWith("@container")).sort((o,n)=>{var i,a;const s=/min-width:\s*([0-9.]+)/;return+(((i=o.match(s))==null?void 0:i[1])||0)-+(((a=n.match(s))==null?void 0:a[1])||0)});return r.length?r.reduce((o,n)=>{const s=e[n];return delete o[n],o[n]=s,o},{...e}):e}function Ee(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function Oe(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,o,n]=r,s=Number.isNaN(+o)?o||0:+o;return t.containerQueries(n).up(s)}function ke(t){const e=(s,i)=>s.replace("@media",i?`@container ${i}`:"@container");function r(s,i){s.up=(...a)=>e(t.breakpoints.up(...a),i),s.down=(...a)=>e(t.breakpoints.down(...a),i),s.between=(...a)=>e(t.breakpoints.between(...a),i),s.only=(...a)=>e(t.breakpoints.only(...a),i),s.not=(...a)=>{const c=e(t.breakpoints.not(...a),i);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const o={},n=s=>(r(o,s),o);return r(n),{...t,containerQueries:n}}const Ae={borderRadius:4};function G(t,e){return e?J(t,e,{clone:!1}):t}const tt={xs:0,sm:600,md:900,lg:1200,xl:1536},St={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${tt[t]}px)`},je={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:tt[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function z(t,e,r){const o=t.theme||{};if(Array.isArray(e)){const s=o.breakpoints||St;return e.reduce((i,a,c)=>(i[s.up(s.keys[c])]=r(e[c]),i),{})}if(typeof e=="object"){const s=o.breakpoints||St;return Object.keys(e).reduce((i,a)=>{if(Ee(s.keys,a)){const c=Oe(o.containerQueries?o:je,a);c&&(i[c]=r(e[a],a))}else if(Object.keys(s.values||tt).includes(a)){const c=s.up(a);i[c]=r(e[a],a)}else{const c=a;i[c]=e[c]}return i},{})}return r(e)}function _e(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((o,n)=>{const s=t.up(n);return o[s]={},o},{}))||{}}function Rt(t,e){return t.reduce((r,o)=>{const n=r[o];return(!n||Object.keys(n).length===0)&&delete r[o],r},e)}function Nt(t){if(typeof t!="string")throw new Error(we(7));return t.charAt(0).toUpperCase()+t.slice(1)}function et(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const o=`vars.${e}`.split(".").reduce((n,s)=>n&&n[s]?n[s]:null,t);if(o!=null)return o}return e.split(".").reduce((o,n)=>o&&o[n]!=null?o[n]:null,t)}function Z(t,e,r,o=r){let n;return typeof t=="function"?n=t(r):Array.isArray(t)?n=t[r]||o:n=et(t,r)||o,e&&(n=e(n,o,t)),n}function w(t){const{prop:e,cssProperty:r=t.prop,themeKey:o,transform:n}=t,s=i=>{if(i[e]==null)return null;const a=i[e],c=i.theme,d=et(c,o)||{};return z(i,a,p=>{let u=Z(d,n,p);return p===u&&typeof p=="string"&&(u=Z(d,n,`${e}${p==="default"?"":Nt(p)}`,p)),r===!1?u:{[r]:u}})};return s.propTypes={},s.filterProps=[e],s}function Me(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const ze={m:"margin",p:"padding"},Ne={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Pt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Le=Me(t=>{if(t.length>2)if(Pt[t])t=Pt[t];else return[t];const[e,r]=t.split(""),o=ze[e],n=Ne[r]||"";return Array.isArray(n)?n.map(s=>o+s):[o+n]}),gt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ht=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...gt,...ht];function D(t,e,r,o){const n=et(t,e,!0)??r;return typeof n=="number"||typeof n=="string"?s=>typeof s=="string"?s:typeof n=="string"?n.startsWith("var(")&&s===0?0:n.startsWith("var(")&&s===1?n:`calc(${s} * ${n})`:n*s:Array.isArray(n)?s=>{if(typeof s=="string")return s;const i=Math.abs(s),a=n[i];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof n=="function"?n:()=>{}}function Lt(t){return D(t,"spacing",8)}function U(t,e){return typeof e=="string"||e==null?e:t(e)}function Ie(t,e){return r=>t.reduce((o,n)=>(o[n]=U(e,r),o),{})}function We(t,e,r,o){if(!e.includes(r))return null;const n=Le(r),s=Ie(n,o),i=t[r];return z(t,i,s)}function It(t,e){const r=Lt(t.theme);return Object.keys(t).map(o=>We(t,e,o,r)).reduce(G,{})}function v(t){return It(t,gt)}v.propTypes={};v.filterProps=gt;function C(t){return It(t,ht)}C.propTypes={};C.filterProps=ht;function Fe(t=8,e=Lt({spacing:t})){if(t.mui)return t;const r=(...o)=>(o.length===0?[1]:o).map(s=>{const i=e(s);return typeof i=="number"?`${i}px`:i}).join(" ");return r.mui=!0,r}function rt(...t){const e=t.reduce((o,n)=>(n.filterProps.forEach(s=>{o[s]=n}),o),{}),r=o=>Object.keys(o).reduce((n,s)=>e[s]?G(n,e[s](o)):n,{});return r.propTypes={},r.filterProps=t.reduce((o,n)=>o.concat(n.filterProps),[]),r}function P(t){return typeof t!="number"?t:`${t}px solid`}function O(t,e){return w({prop:t,themeKey:"borders",transform:e})}const Ke=O("border",P),Ge=O("borderTop",P),De=O("borderRight",P),Ue=O("borderBottom",P),qe=O("borderLeft",P),Ye=O("borderColor"),Qe=O("borderTopColor"),He=O("borderRightColor"),Xe=O("borderBottomColor"),Je=O("borderLeftColor"),Ze=O("outline",P),Ve=O("outlineColor"),ot=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=D(t.theme,"shape.borderRadius",4),r=o=>({borderRadius:U(e,o)});return z(t,t.borderRadius,r)}return null};ot.propTypes={};ot.filterProps=["borderRadius"];rt(Ke,Ge,De,Ue,qe,Ye,Qe,He,Xe,Je,ot,Ze,Ve);const nt=t=>{if(t.gap!==void 0&&t.gap!==null){const e=D(t.theme,"spacing",8),r=o=>({gap:U(e,o)});return z(t,t.gap,r)}return null};nt.propTypes={};nt.filterProps=["gap"];const st=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=D(t.theme,"spacing",8),r=o=>({columnGap:U(e,o)});return z(t,t.columnGap,r)}return null};st.propTypes={};st.filterProps=["columnGap"];const it=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=D(t.theme,"spacing",8),r=o=>({rowGap:U(e,o)});return z(t,t.rowGap,r)}return null};it.propTypes={};it.filterProps=["rowGap"];const tr=w({prop:"gridColumn"}),er=w({prop:"gridRow"}),rr=w({prop:"gridAutoFlow"}),or=w({prop:"gridAutoColumns"}),nr=w({prop:"gridAutoRows"}),sr=w({prop:"gridTemplateColumns"}),ir=w({prop:"gridTemplateRows"}),ar=w({prop:"gridTemplateAreas"}),lr=w({prop:"gridArea"});rt(nt,st,it,tr,er,rr,or,nr,sr,ir,ar,lr);function W(t,e){return e==="grey"?e:t}const cr=w({prop:"color",themeKey:"palette",transform:W}),ur=w({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:W}),dr=w({prop:"backgroundColor",themeKey:"palette",transform:W});rt(cr,ur,dr);function R(t){return t<=1&&t!==0?`${t*100}%`:t}const fr=w({prop:"width",transform:R}),yt=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,s,i,a,c;const o=((i=(s=(n=t.theme)==null?void 0:n.breakpoints)==null?void 0:s.values)==null?void 0:i[r])||tt[r];return o?((c=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:R(r)}};return z(t,t.maxWidth,e)}return null};yt.filterProps=["maxWidth"];const pr=w({prop:"minWidth",transform:R}),mr=w({prop:"height",transform:R}),gr=w({prop:"maxHeight",transform:R}),hr=w({prop:"minHeight",transform:R});w({prop:"size",cssProperty:"width",transform:R});w({prop:"size",cssProperty:"height",transform:R});const yr=w({prop:"boxSizing"});rt(fr,yt,pr,mr,gr,hr,yr);const bt={border:{themeKey:"borders",transform:P},borderTop:{themeKey:"borders",transform:P},borderRight:{themeKey:"borders",transform:P},borderBottom:{themeKey:"borders",transform:P},borderLeft:{themeKey:"borders",transform:P},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:P},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ot},color:{themeKey:"palette",transform:W},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:W},backgroundColor:{themeKey:"palette",transform:W},p:{style:C},pt:{style:C},pr:{style:C},pb:{style:C},pl:{style:C},px:{style:C},py:{style:C},padding:{style:C},paddingTop:{style:C},paddingRight:{style:C},paddingBottom:{style:C},paddingLeft:{style:C},paddingX:{style:C},paddingY:{style:C},paddingInline:{style:C},paddingInlineStart:{style:C},paddingInlineEnd:{style:C},paddingBlock:{style:C},paddingBlockStart:{style:C},paddingBlockEnd:{style:C},m:{style:v},mt:{style:v},mr:{style:v},mb:{style:v},ml:{style:v},mx:{style:v},my:{style:v},margin:{style:v},marginTop:{style:v},marginRight:{style:v},marginBottom:{style:v},marginLeft:{style:v},marginX:{style:v},marginY:{style:v},marginInline:{style:v},marginInlineStart:{style:v},marginInlineEnd:{style:v},marginBlock:{style:v},marginBlockStart:{style:v},marginBlockEnd:{style:v},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:nt},rowGap:{style:it},columnGap:{style:st},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:R},maxWidth:{style:yt},minWidth:{transform:R},height:{transform:R},maxHeight:{transform:R},minHeight:{transform:R},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function br(...t){const e=t.reduce((o,n)=>o.concat(Object.keys(n)),[]),r=new Set(e);return t.every(o=>r.size===Object.keys(o).length)}function xr(t,e){return typeof t=="function"?t(e):t}function vr(){function t(r,o,n,s){const i={[r]:o,theme:n},a=s[r];if(!a)return{[r]:o};const{cssProperty:c=r,themeKey:d,transform:f,style:p}=a;if(o==null)return null;if(d==="typography"&&o==="inherit")return{[r]:o};const u=et(n,d)||{};return p?p(i):z(i,o,g=>{let l=Z(u,f,g);return g===l&&typeof g=="string"&&(l=Z(u,f,`${r}${g==="default"?"":Nt(g)}`,g)),c===!1?l:{[c]:l}})}function e(r){const{sx:o,theme:n={},nested:s}=r||{};if(!o)return null;const i=n.unstable_sxConfig??bt;function a(c){let d=c;if(typeof c=="function")d=c(n);else if(typeof c!="object")return c;if(!d)return null;const f=_e(n.breakpoints),p=Object.keys(f);let u=f;return Object.keys(d).forEach(m=>{const g=xr(d[m],n);if(g!=null)if(typeof g=="object")if(i[m])u=G(u,t(m,g,n,i));else{const l=z({theme:n},g,T=>({[m]:T}));br(l,g)?u[m]=e({sx:g,theme:n,nested:!0}):u=G(u,l)}else u=G(u,t(m,g,n,i))}),!s&&n.modularCssLayers?{"@layer sx":Bt(n,Rt(p,u))}:Bt(n,Rt(p,u))}return Array.isArray(o)?o.map(a):a(o)}return e}const xt=vr();xt.filterProps=["sx"];function Cr(t,e){var o;const r=this;if(r.vars){if(!((o=r.colorSchemes)!=null&&o[t])||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(t);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return r.palette.mode===t?e:{}}function $r(t={},...e){const{breakpoints:r={},palette:o={},spacing:n,shape:s={},...i}=t,a=Pe(r),c=Fe(n);let d=J({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...o},spacing:c,shape:{...Ae,...s}},i);return d=ke(d),d.applyStyles=Cr,d=e.reduce((f,p)=>J(f,p),d),d.unstable_sxConfig={...bt,...i==null?void 0:i.unstable_sxConfig},d.unstable_sx=function(p){return xt({sx:p,theme:this})},d}function wr(t){return Object.keys(t).length===0}function Tr(t=null){const e=$.useContext(qt);return!e||wr(e)?t:e}const Br=$r();function Sr(t=Br){return Tr(t)}const Rr=t=>{var o;const e={systemProps:{},otherProps:{}},r=((o=t==null?void 0:t.theme)==null?void 0:o.unstable_sxConfig)??bt;return Object.keys(t).forEach(n=>{r[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function Pr(t){const{sx:e,...r}=t,{systemProps:o,otherProps:n}=Rr(r);let s;return Array.isArray(e)?s=[o,...e]:typeof e=="function"?s=(...i)=>{const a=e(...i);return N(a)?{...o,...a}:o}:s={...o,...e},{...n,sx:s}}const Et=t=>t,Er=()=>{let t=Et;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Et}}},Wt=Er();function Or(t={}){const{themeId:e,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:n}=t,s=Te("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(xt);return $.forwardRef(function(c,d){const f=Sr(r),{className:p,component:u="div",...m}=Pr(c);return h.jsx(s,{as:u,ref:d,className:V(p,n?n(o):o),theme:e&&f[e]||f,...m})})}const kr={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ar(t,e,r="Mui"){const o=kr[e];return o?`${r}-${o}`:`${Wt.generate(t)}-${e}`}function jr(t,e,r="Mui"){const o={};return e.forEach(n=>{o[n]=Ar(t,n,r)}),o}const _r=jr("MuiBox",["root"]),ct=Or({defaultClassName:_r.root,generateClassName:Wt.generate});function ut(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function*Mr(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}function zr(t,e){let r=0,o,n=0,s=0;for(let i of t)i!=null&&(i=+i)>=i&&(o=i-n,n+=o/++r,s+=o*(i-n));if(r>1)return s/(r-1)}function Nr(t,e){const r=zr(t);return r&&Math.sqrt(r)}function Lr(t=ut){if(t===ut)return Ft;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const o=t(e,r);return o||o===0?o:(t(r,r)===0)-(t(e,e)===0)}}function Ft(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Ot(t,e){let r;for(const o of t)o!=null&&(r<o||r===void 0&&o>=o)&&(r=o);return r}function kt(t,e){let r;for(const o of t)o!=null&&(r>o||r===void 0&&o>=o)&&(r=o);return r}function Kt(t,e,r=0,o=1/0,n){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),o=Math.floor(Math.min(t.length-1,o)),!(r<=e&&e<=o))return t;for(n=n===void 0?Ft:Lr(n);o>r;){if(o-r>600){const c=o-r+1,d=e-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),u=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(e-d*p/c+u)),g=Math.min(o,Math.floor(e+(c-d)*p/c+u));Kt(t,e,m,g,n)}const s=t[e];let i=r,a=o;for(K(t,r,e),n(t[o],s)>0&&K(t,r,o);i<a;){for(K(t,i,a),++i,--a;n(t[i],s)<0;)++i;for(;n(t[a],s)>0;)--a}n(t[r],s)===0?K(t,r,a):(++a,K(t,a,o)),a<=e&&(r=a+1),e<=a&&(o=a-1)}return t}function K(t,e,r){const o=t[e];t[e]=t[r],t[r]=o}function At(t,e,r){if(t=Float64Array.from(Mr(t)),!(!(o=t.length)||isNaN(e=+e))){if(e<=0||o<2)return kt(t);if(e>=1)return Ot(t);var o,n=(o-1)*e,s=Math.floor(n),i=Ot(Kt(t,s).subarray(0,s+1)),a=kt(t.subarray(s+1));return i+(a-i)*(n-s)}}function Ir(t,e){let r=0,o=0;for(let n of t)n!=null&&(n=+n)>=n&&(++r,o+=n);if(r)return o/r}const Wr=(t,e)=>{if(!t||t.length===0)return[];const r=t.map(c=>c[e]).filter(c=>typeof c=="number");r.sort(ut);const o=At(r,.25),n=At(r,.75);if(o===void 0||n===void 0)return t;const s=n-o,i=o-1.5*s,a=n+1.5*s;return t.filter(c=>{const d=c[e];return typeof d!="number"?!0:d>=i&&d<=a})},Fr=(t,e,r=10,o=2)=>{if(!t||t.length===0)return[];const n=[],s=[];for(let i=0;i<t.length;i++){const a=t.slice(Math.max(0,i-r+1),i+1).map(c=>c[e]).filter(c=>typeof c=="number");n.push(Ir(a)),s.push(Nr(a))}return t.filter((i,a)=>{const c=i[e],d=n[a],f=s[a];return typeof c!="number"||d===void 0||f===void 0||f===0?!0:Math.abs(c-d)<=o*f})};async function Kr(){return await(await fetch("https://lasp.colorado.edu/space-weather-portal/latis/dap/penticton_radio_flux.jsond")).json()}function Gr(){const[t,e]=$.useState("plot"),[r,o]=$.useState(!0),[n,s]=$.useState("iqr"),{isPending:i,isError:a,isSuccess:c,data:d,error:f}=Zt({queryKey:["laspData"],queryFn:Kr}),[p,u]=$.useState([]),[m,g]=$.useState([]);if($.useEffect(()=>{if(d){const l=d.penticton_radio_flux.data.map(x=>x[0]),T=d.penticton_radio_flux.data.map(x=>x[1]),L=d.penticton_radio_flux.data.map(x=>x[2]),_=l.map((x,k)=>({id:x,time:new Date(x).toLocaleString(),observedFlux:T[k],adjustedFlux:L[k]}));if(r)u(_),g(_.map(x=>({...x,time:new Date(x.time)})));else{let x;n==="iqr"?x=Wr(_,"observedFlux"):x=Fr(_,"observedFlux"),u(x),g(x.map(k=>({...k,time:new Date(k.time)})))}}},[d,r,n]),i)return h.jsx("div",{children:"Loading..."});if(a)return h.jsxs("div",{children:["Error: ",f.message]});if(c)return h.jsxs(ct,{sx:{width:"100%",height:"100%"},children:[h.jsxs(ct,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs($e,{value:t,exclusive:!0,onChange:(l,T)=>{T!==null&&e(T)},"aria-label":"data view",children:[h.jsx($t,{value:"plot","aria-label":"plot view",children:"Plot"}),h.jsx($t,{value:"table","aria-label":"table view",children:"Table"})]}),h.jsxs(ct,{sx:{display:"flex",gap:2,alignItems:"center"},children:[h.jsx(re,{control:h.jsx(de,{checked:!r,onChange:l=>o(!l.target.checked)}),label:"Remove Outliers"}),h.jsxs(Yt,{sx:{m:1,minWidth:120},size:"small",children:[h.jsx(Qt,{id:"outlier-model-select-label",children:"Model"}),h.jsxs(Ht,{labelId:"outlier-model-select-label",id:"outlier-model-select",value:n,label:"Model",onChange:l=>s(l.target.value),disabled:r,children:[h.jsx(Ct,{value:"iqr",children:"IQR"}),h.jsx(Ct,{value:"movingAverage",children:"Moving Average"})]})]})]})]}),t==="plot"?h.jsx(Vt,{data:[{x:m.map(l=>l.time),y:m.map(l=>l.observedFlux),type:"scatter",mode:"lines",name:"Observed Flux"},{x:m.map(l=>l.time),y:m.map(l=>l.adjustedFlux),type:"scatter",mode:"lines",name:"Adjusted Flux"}],layout:{title:"Penticton Radio Flux",xaxis:{title:"Time"},yaxis:{title:"Flux"}},style:{width:"100%",height:"calc(100% - 40px)"}}):h.jsx(te,{rows:p,columns:[{field:"time",headerName:"Time",flex:1},{field:"observedFlux",headerName:"Observed Flux",flex:1,type:"number"},{field:"adjustedFlux",headerName:"Adjusted Flux",flex:1,type:"number"}]})]})}const so=function(){return h.jsxs(vt,{children:[h.jsx(Jt,{pageTitle:"Explore Data App",description:"Description of this app",sx:{marginBottom:1,padding:2}}),h.jsx(vt,{children:h.jsx(Xt,{elevation:0,sx:{flex:1,minHeight:"600px",minWidth:0},children:h.jsx(Gr,{})})})]})};export{so as component};
